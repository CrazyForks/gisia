- nodes = [{ label: 'User Settings', path: users_settings_profile_path }, { label: 'SSH Key', path: users_settings_key_path(@key.id)}]
= render 'shared/breadcrumb', nodes: nodes

%div{class: 'w-full bg-white p-2 rounded-lg'}
  %div{class: 'w-full max-w-6xl mx-auto'}

    %div{class: 'py-6'}
      %div{class: 'flex items-center gap-4 mb-6'}
        %div{class: 'w-16 h-16 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center text-white text-xl font-bold shadow-sm'}
          = icon 'key', class: 'w-8 h-8'
        %div
          %h1{class: 'text-2xl font-bold text-gray-900'} SSH Key Details
          %p{class: 'text-gray-600'} View your SSH key configuration and details

    %div{class: 'mb-6'}
      %h2{class: 'text-lg font-semibold text-gray-900 mb-4'} Key Information

    %div{class: 'space-y-4 mb-8'}
      
      %div{class: 'flex items-center justify-between py-3 border-b border-gray-100'}
        %div{class: 'flex items-center gap-2 text-sm font-medium text-gray-700'}
          = icon 'tag', class: 'w-4 h-4 text-blue-500'
          Title
        %div{class: 'text-sm text-gray-900 font-medium'}= @key.title
      
      %div{class: 'flex items-center justify-between py-3 border-b border-gray-100'}
        %div{class: 'flex items-center gap-2 text-sm font-medium text-gray-700'}
          = icon 'fingerprint', class: 'w-4 h-4 text-purple-500'
          Fingerprint
        %div{class: 'text-sm text-gray-900 font-mono'}= @key.fingerprint
      
      %div{class: 'flex items-center justify-between py-3 border-b border-gray-100'}
        %div{class: 'flex items-center gap-2 text-sm font-medium text-gray-700'}
          = icon 'shield', class: 'w-4 h-4 text-indigo-500'
          SHA256 Fingerprint
        %div{class: 'text-sm text-gray-900 font-mono'}= @key.fingerprint_sha256
      
      %div{class: 'flex items-center justify-between py-3 border-b border-gray-100'}
        %div{class: 'flex items-center gap-2 text-sm font-medium text-gray-700'}
          = icon 'gear', class: 'w-4 h-4 text-orange-500'
          Usage Type
        %div{class: 'text-sm text-gray-900'}= @key.usage_type.humanize.titleize
      
      %div{class: 'flex items-center justify-between py-3 border-b border-gray-100'}
        %div{class: 'flex items-center gap-2 text-sm font-medium text-gray-700'}
          = icon 'clock', class: 'w-4 h-4 text-gray-500'
          Last Used
        - if @key.last_used_at.present?
          %div{class: 'text-sm text-gray-900'}= time_ago_in_words(@key.last_used_at) + ' ago'
        - else
          %div{class: 'text-sm text-gray-400 italic'} Never used
      
      %div{class: 'flex items-center justify-between py-3 border-b border-gray-100'}
        %div{class: 'flex items-center gap-2 text-sm font-medium text-gray-700'}
          = icon 'calendar', class: 'w-4 h-4 text-red-500'
          Expires At
        - if @key.expires_at.present?
          %div{class: 'text-sm text-gray-900'}= @key.expires_at.strftime('%B %d, %Y at %I:%M %p')
        - else
          %div{class: 'text-sm text-gray-400 italic'} No expiration
      
      %div{class: 'flex items-center justify-between py-3'}
        %div{class: 'flex items-center gap-2 text-sm font-medium text-gray-700'}
          = icon 'user', class: 'w-4 h-4 text-blue-500'
          User ID
        %div{class: 'text-sm text-gray-900 font-mono'}= @key.user_id

    %div{class: 'flex items-center justify-between pt-4 border-t border-gray-100'}
      = link_to users_settings_keys_path, class: 'text-gray-600 hover:text-gray-800 text-sm font-medium' do
        ‚Üê Back to Keys
      %div{class: 'flex items-center gap-3'}
        = link_to edit_users_settings_key_path(@key), class: 'inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-all duration-200' do
          = icon 'pencil', class: 'w-4 h-4'
          Edit
        = button_to users_settings_key_path(@key), method: :delete, data: { confirm: 'Are you sure you want to delete this SSH key?', turbo: false }, class: 'inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-all duration-200' do
          = icon 'trash', class: 'w-4 h-4'
          Delete
