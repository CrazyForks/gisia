- content_for :breadcrumb do
  - nodes = [{ label: project_breadcrumb_name(@project), path: dashboard_project_path(@project) }, { label: 'Pipelines', path: pipelines_path(@project) }]
  = render 'shared/breadcrumb', nodes: nodes

%div{ class: 'w-full bg-white p-6' }
  %div{ class: 'w-full max-w-6xl mx-auto flex flex-col px-4' }

    / -- Page Header --
    %div{ class: 'flex justify-between items-center mb-6' }
      %div
        %h1{ class: 'text-2xl font-semibold text-gray-800' }
          Pipelines for Project: 
          = @project.name

    / -- Filters --
    = render 'shared/filters/pipelines_filters', 
      url: pipelines_path(@project), 
      clear_url: pipelines_path(@project),
      search_label: 'Search by SHA',
      search_placeholder: 'e.g., abc123...',
      statuses: @statuses,
      refs: @refs

    %div{ class: 'space-y-4' }
      = render 'pipelines'
      
      / -- Pagination --
      = render 'shared/pagination', collection: @pipelines, url_params: params.except(:page).permit!, turbo_frame: nil
