= turbo_stream.replace dom_id(@webhook) do
  %div{id: dom_id(@webhook), class: 'flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50'}
    %div{class: 'flex-1 min-w-0'}
      %div{class: 'flex items-center gap-2'}
        %p{class: 'font-medium text-gray-900 truncate'}
          = @webhook.name.presence || @webhook.url
      - if @webhook.name.present?
        %p{class: 'text-sm text-gray-500 truncate mt-0.5'}
          = @webhook.url
      - if @webhook.description.present?
        %p{class: 'text-sm text-gray-600 mt-1'}
          = truncate(@webhook.description, length: 100)
      %div{class: 'flex items-center gap-2 mt-2'}
        - if @webhook.push_events?
          %span{class: 'inline-block bg-blue-50 text-blue-700 px-2 py-0.5 rounded text-xs font-medium'}
            Push events
        - if @webhook.tag_push_events?
          %span{class: 'inline-block bg-purple-50 text-purple-700 px-2 py-0.5 rounded text-xs font-medium'}
            Tag push events
    %div{class: 'flex items-center gap-2 ml-4'}
      = link_to edit_webhook_path(@project, @webhook), class: 'px-3 py-2 text-gray-600 hover:text-blue-600 text-sm font-medium' do
        = icon 'pencil', class: 'w-4 h-4'
      = button_to delete_webhook_path(@project, @webhook), method: :delete, data: { turbo_confirm: 'Are you sure?' }, class: 'px-3 py-2 text-gray-600 hover:text-red-600 text-sm font-medium border-none bg-none cursor-pointer' do
        = icon 'trash', class: 'w-4 h-4'
