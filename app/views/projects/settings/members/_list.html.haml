- if @members.any?
  %table{class: 'w-full'}
    %thead
      %tr{class: 'border-b border-gray-200'}
        %th{class: 'text-left py-3 px-4 text-sm font-semibold text-gray-600'} User
        %th{class: 'text-left py-3 px-4 text-sm font-semibold text-gray-600'} Role
        %th{class: 'text-left py-3 px-4 text-sm font-semibold text-gray-600'} Expiration
        %th{class: 'text-right py-3 px-4 text-sm font-semibold text-gray-600'} Actions
    %tbody
      - @members.each do |member|
        %tr{id: "member-#{member.id}", class: 'border-b border-gray-100 hover:bg-gray-50'}
          %td{class: 'py-3 px-4'}
            %div{class: 'flex items-center gap-3'}
              = render 'shared/user_avatar', user: member.user, size: 32, css_class: 'w-8 h-8 rounded-full'
              %div
                %p{class: 'text-sm font-medium text-gray-900'}= member.user.name
                %p{class: 'text-xs text-gray-500'}= "@#{member.user.username}"
          %td{class: 'py-3 px-4'}
            %span{class: 'inline-block bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium'}
              = Gitlab::Access.human_access(member.access_level_before_type_cast)
          %td{class: 'py-3 px-4 text-sm text-gray-600'}
            - if member.expires_at.present?
              = member.expires_at.strftime('%b %d, %Y')
            - else
              No expiration
          %td{class: 'py-3 px-4 text-right'}
            %div{class: 'flex items-center justify-end gap-2'}
              = button_to edit_member_form_path(@project, member), method: :post, id: "edit-member-#{member.id}", class: 'px-3 py-2 text-gray-600 hover:text-blue-600 text-sm font-medium border-none bg-none cursor-pointer' do
                = icon 'pencil-simple', class: 'w-4 h-4'
              = button_to delete_member_path(@project, member), method: :delete, id: "delete-member-#{member.id}", class: 'px-3 py-2 text-gray-600 hover:text-red-600 text-sm font-medium border-none bg-none cursor-pointer', data: { turbo_confirm: 'Are you sure you want to remove this member?' } do
                = icon 'trash', class: 'w-4 h-4'
- else
  %div{class: 'text-center py-12 border border-gray-200 rounded-lg bg-gray-50'}
    = icon 'users', class: 'w-12 h-12 text-gray-400 mx-auto mb-4'
    %p{class: 'text-gray-600'}
      No members found.
