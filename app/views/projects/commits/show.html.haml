- content_for :breadcrumb do
  - nodes = [*project_breadcrumb_nodes(@project), { label: 'Repository', path: '#' }, { label: 'Commits', path: '#' }]
  = render 'shared/breadcrumb', nodes: nodes

%div{ class: 'w-full bg-white p-6' }
  %div{ class: 'w-full max-w-6xl mx-auto flex flex-col px-4' }
    
    %div{ class: '' }
      %div{ class: 'flex items-center justify-between mb-2 border-b  border-gray-100' }
        %div
          %h1{ class: 'text-2xl font-bold text-slate-900 mb-2' }
            Commits
          - unless @ref.present?
            %p{ class: 'text-slate-600' }
              %span{ class: 'font-mono text-slate-700 bg-slate-100 px-2 py-1 rounded' }= @ref
              branch history
        
        %div{ class: 'flex items-center gap-3' }
          - if @path.present?
            = link_to '#', class: 'inline-flex items-center gap-2 px-3 py-2 border border-slate-300 text-slate-700 hover:bg-slate-50 rounded-md text-sm font-medium transition-colors' do
              = icon 'arrow-left', class: 'w-4 h-4'
              %span Back to files
          
          = link_to '#', class: 'inline-flex items-center gap-2 px-3 py-2 border border-slate-300 text-slate-700 hover:bg-slate-50 rounded-md text-sm font-medium transition-colors' do
            = icon 'git-branch', class: 'w-4 h-4'
            %span= @ref

    %div{ class: 'space-y-6' }
      - if @commits&.any?
        %div{ class: 'overflow-hidden' }
          = render 'commits'
      - else
        %div{ class: 'text-center py-16 bg-white border border-slate-200 rounded-lg' }
          %div{ class: 'mx-auto w-16 h-16 flex items-center justify-center rounded-2xl bg-slate-100 mb-6' }
            = icon 'git-commit', class: 'w-8 h-8 text-slate-400'
          %h3{ class: 'text-lg font-semibold text-slate-900 mb-2' } No commits found
          %p{ class: 'text-slate-500 max-w-sm mx-auto leading-relaxed' } 
            - if @path.present?
              No commits found for this file path.
            - else
              This branch doesn't have any commits yet.
