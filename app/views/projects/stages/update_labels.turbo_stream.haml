= turbo_stream.update "search-input-#{@stage.id}" do
  %input{ type: 'text', placeholder: 'Search labels...', id: "search-input-#{@stage.id}", class: 'w-full px-2 py-1.5 text-xs border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-2', data: { action: 'input->stage-label-search#search', 'stage-label-search-target': 'queryInput' } }

= turbo_stream.replace "stage-label-dropdown-options-#{@stage.id}" do
  = render 'projects/stages/droplist', stage: @stage, labels: [], selected_ids: @stage.label_ids.map(&:to_s)

= turbo_stream.replace "selected-labels-#{@stage.id}" do
  = turbo_frame_tag "selected-labels-#{@stage.id}" do
    = render 'projects/stages/selected_labels', stage: @stage, selected_label_ids: @stage.label_ids
    = render 'projects/stages/stage_edit_form', stage: @stage, board: @board, project: @project
