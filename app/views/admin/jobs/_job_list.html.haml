- if @jobs&.any?
  %div{class: 'space-y-0 bg-white border border-gray-200 rounded-lg overflow-hidden'}
    %div{class: 'bg-gray-100 px-6 py-3 border-b border-gray-200'}
      %div{class: 'flex items-center justify-between'}
        %div{class: 'flex items-center gap-3 flex-1 min-w-0'}
          %div{class: 'flex-1 min-w-0'}
            %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider'} Job
        %div{class: 'flex items-center gap-3 flex-shrink-0'}
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-24'} Project
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-20'} Commit
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-20'} Runner
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-20'} Duration
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-24'} Created
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-24'} Actions
    - @jobs.each do |job|
      %div{class: 'px-6 py-4 border-b border-gray-100 hover:bg-slate-50/50 transition-all duration-200 last:border-b-0'}
        %div{class: 'flex items-center justify-between'}
          %div{class: 'flex items-center gap-3 flex-1 min-w-0'}
            = icon 'list-checks', class: 'w-4 h-4 text-blue-500 flex-shrink-0'
            %div{class: 'flex-1 min-w-0'}
              %div{class: 'flex items-center gap-2'}
                = link_to job_path(job), class: 'font-medium text-gray-900 hover:text-blue-600 transition-colors truncate', data: { turbo: false } do
                  = "##{job.id}"
                - case job.status
                - when 'pending'
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 flex-shrink-0'} Pending
                - when 'running'
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700 flex-shrink-0'} Running
                - when 'success'
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 flex-shrink-0'} Success
                - when 'failed'
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700 flex-shrink-0'} Failed
                - when 'canceled'
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700 flex-shrink-0'} Canceled
                - else
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700 flex-shrink-0'}= job.status.humanize
              %p{class: 'text-gray-500 text-xs truncate mt-0.5'}= job.name
          %div{class: 'flex items-center gap-3 flex-shrink-0'}
            %div{class: 'text-xs text-gray-900 w-24 truncate'}
              = link_to job.project.name, admin_project_path(job.project), class: 'hover:text-blue-600', data: { turbo: false }
            %div{class: 'text-xs text-gray-900 w-20'}
              %div{class: 'truncate'}= job.pipeline.sha[0..7] if job.pipeline
              %div{class: 'text-gray-500 truncate'}= job.ref
            %div{class: 'text-xs text-gray-900 w-20 truncate'}
              - if job.runner
                = link_to "##{job.runner.id}", admin_runner_path(job.runner), class: 'hover:text-blue-600', data: { turbo: false }
              - else
                %span{class: 'text-gray-500'} No runner
            %div{class: 'text-xs text-gray-900 w-20'}
              - if job.duration
                = "#{job.duration}s"
              - elsif job.started_at
                = "#{Time.current - job.started_at}s"
              - else
                %span{class: 'text-gray-500'} -
            %div{class: 'text-xs text-gray-400 w-24'}
              = job.created_at.strftime('%b %d, %H:%M')
            %div{class: 'flex items-center gap-1 w-24'}
              = link_to job_path(job), class: 'p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg text-xs', data: { turbo_frame: '_top' } do
                View
              - if job.pending? || job.running?
                = link_to cancel_admin_job_path(job), class: 'p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg text-xs', data: { turbo_method: :post, confirm: 'Are you sure you want to cancel this job?', turbo_frame: '_top' } do
                  Cancel

  = render 'shared/pagination', collection: @jobs, url_params: { status: params[:status], project: params[:project] }, turbo_frame: 'jobs_content'
- else
  %div{class: 'bg-white border border-gray-200 rounded-lg p-16 text-center'}
    %div{class: 'w-16 h-16 rounded-full bg-blue-50 flex items-center justify-center mx-auto mb-4'}
      = icon 'list-checks', class: 'w-8 h-8 text-blue-500'
    %h3{class: 'text-lg font-medium text-gray-900 mb-2'} No jobs found
    %p{class: 'text-gray-500 text-sm'} Jobs will appear here when CI/CD pipelines are executed.