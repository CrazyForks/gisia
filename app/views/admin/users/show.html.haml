- content_for :breadcrumb do
  - nodes = [{ label: 'Admin', path: admin_root_path }, { label: 'Users', path: admin_users_path }, { label: @user.username, path: '#' }]
  = render 'shared/breadcrumb', nodes: nodes

%div{class: 'w-full bg-white p-2 rounded-lg'}
  %div{class: 'w-full max-w-6xl mx-auto'}

    %div{class: 'py-6'}
      %div{class: 'flex items-center justify-between mb-8'}
        %div{class: 'flex items-center gap-4'}
          %div{class: 'h-16 w-16 rounded-full bg-green-500 flex items-center justify-center text-white text-xl font-bold'}
            = @user.username.first.upcase
          %div
            %h1{class: 'text-2xl font-bold text-gray-900'}= @user.username
            %p{class: 'text-gray-600'}= @user.email
            %div{class: 'flex items-center gap-2 mt-2'}
              - if @user.admin?
                %span{class: 'inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800'} Admin
              - if @user.confirmed_at.present?
                %span{class: 'inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800'} Active

        %div{class: 'flex items-center gap-3'}
          = link_to edit_admin_user_path(@user), class: 'inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-all duration-200' do
            = icon 'pencil', class: 'w-4 h-4'
            Edit
          = link_to admin_user_path(@user), method: :delete, data: { confirm: 'Are you sure?' }, class: 'inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-all duration-200' do
            = icon 'trash', class: 'w-4 h-4'
            Delete

    %div{class: 'grid grid-cols-1 md:grid-cols-2 gap-6 mb-8'}
      %div{class: 'bg-gray-50 border border-gray-200 rounded-xl p-6'}
        %h3{class: 'text-lg font-semibold text-gray-900 mb-4'} Account Details
        %dl{class: 'space-y-3'}
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Username
            %dd{class: 'text-sm text-gray-900'}= @user.username
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Email
            %dd{class: 'text-sm text-gray-900'}= @user.email
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Name
            %dd{class: 'text-sm text-gray-900'}= @user.name || 'Not set'
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Created
            %dd{class: 'text-sm text-gray-900'}= @user.created_at&.strftime('%B %d, %Y at %I:%M %p')
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Last activity
            %dd{class: 'text-sm text-gray-900'}= @user.updated_at&.strftime('%B %d, %Y at %I:%M %p') || 'Never'

      %div{class: 'bg-gray-50 border border-gray-200 rounded-xl p-6'}
        %h3{class: 'text-lg font-semibold text-gray-900 mb-4'} Statistics
        %dl{class: 'space-y-3'}
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Projects
            %dd{class: 'text-sm text-gray-900'}= @user.projects.count
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Groups
            %dd{class: 'text-sm text-gray-900'} 0
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Admin
            %dd{class: 'text-sm text-gray-900'}= @user.admin? ? 'Yes' : 'No'
          %div
            %dt{class: 'text-sm font-medium text-gray-500'} Confirmed
            %dd{class: 'text-sm text-gray-900'}= @user.confirmed_at.present? ? 'Yes' : 'No'

    %div{class: 'bg-gray-50 border border-gray-200 rounded-xl p-6'}
      %h3{class: 'text-lg font-semibold text-gray-900 mb-4'} Recent Projects
      - if @user.projects.any?
        %div{class: 'space-y-3'}
          - @user.projects.limit(5).each do |project|
            %div{class: 'flex items-center justify-between py-2'}
              %div
                %div{class: 'text-sm font-medium text-gray-900'}= project.name
                %div{class: 'text-xs text-gray-500'}= project.description
              %div{class: 'text-xs text-gray-500'}
                Updated #{time_ago_in_words(project.updated_at)} ago
      - else
        %p{class: 'text-gray-500'} No projects found.