- if @runners&.any?
  %div{class: 'space-y-0 bg-white border border-gray-200 rounded-lg overflow-hidden'}
    %div{class: 'bg-gray-100 px-6 py-3 border-b border-gray-200'}
      %div{class: 'flex items-center justify-between'}
        %div{class: 'flex items-center gap-3 flex-1 min-w-0'}
          %div{class: 'flex-1 min-w-0'}
            %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider'} Runner
        %div{class: 'flex items-center gap-3 flex-shrink-0'}
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-20'} Jobs
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-24'} Tags
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-32'} Last Contact
          %div{class: 'text-xs font-medium text-gray-500 uppercase tracking-wider w-24'} Actions
    - @runners.each do |runner|
      %div{class: 'px-6 py-4 border-b border-gray-100 hover:bg-slate-50/50 transition-all duration-200 last:border-b-0'}
        %div{class: 'flex items-center justify-between'}
          %div{class: 'flex items-center gap-3 flex-1 min-w-0'}
            %div{class: 'flex-shrink-0 h-8 w-8'}
              = icon 'gear', class: 'w-8 h-8 text-gray-400'
            %div{class: 'flex-1 min-w-0'}
              %div{class: 'flex items-center gap-2'}
                = link_to admin_runner_path(runner), class: 'font-medium text-gray-900 hover:text-blue-600 transition-colors truncate' do
                  = "##{runner.id}"
                %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700 flex-shrink-0'}
                  = runner.runner_type.humanize
                - if runner.online?
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 flex-shrink-0'} Online
                - elsif runner.stale?
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 flex-shrink-0'} Stale
                - elsif runner.contacted_at.nil?
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700 flex-shrink-0'} Never contacted
                - else
                  %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700 flex-shrink-0'} Offline
              %p{class: 'text-gray-500 text-xs truncate mt-0.5'}= runner.description.presence || 'No description'
          %div{class: 'flex items-center gap-3 flex-shrink-0'}
            %div{class: 'text-xs text-gray-900 w-20'}
              = "#{runner.builds.count} jobs"
            %div{class: 'w-24'}
              - if runner.tags.any?
                %div{class: 'flex flex-wrap gap-1'}
                  - runner.tags.limit(2).each do |tag|
                    %span{class: 'inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700'}= tag.name
                  - if runner.tags.count > 2
                    %span{class: 'text-xs text-gray-500'}= "+#{runner.tags.count - 2}"
              - else
                %span{class: 'text-xs text-gray-500'} None
            %div{class: 'text-xs text-gray-400 w-32'}
              = runner.contacted_at&.strftime('%b %d, %Y %H:%M') || 'Never'
            %div{class: 'flex items-center gap-1 w-24'}
              = link_to admin_runner_path(runner), class: 'p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg text-xs', data: { turbo_frame: '_top' } do
                View
              = link_to edit_admin_runner_path(runner), class: 'p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg text-xs', data: { turbo_frame: '_top' } do
                Edit

  = render 'shared/pagination', collection: @runners, url_params: { status: params[:status] }, turbo_frame: 'runners_content'
- else
  %div{class: 'bg-white border border-gray-200 rounded-lg p-16 text-center'}
    %div{class: 'w-16 h-16 rounded-full bg-gray-50 flex items-center justify-center mx-auto mb-4'}
      = icon 'gear', class: 'w-8 h-8 text-gray-500'
    %h3{class: 'text-lg font-medium text-gray-900 mb-2'} No runners found
    %p{class: 'text-gray-500 text-sm'} Runners will appear here when they are registered.