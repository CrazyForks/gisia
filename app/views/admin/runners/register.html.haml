- content_for :breadcrumb do
  - nodes = [{ label: 'Admin', path: admin_root_path }, { label: 'Runners', path: admin_runners_path }, { label: "Runner ##{@runner.id}", path: '#' }, { label: 'Register', path: '#' }]
  = render 'shared/breadcrumb', nodes: nodes

%div{ class: "w-full bg-white p-2 rounded-lg" }
  %div{ class: "w-full max-w-6xl mx-auto" }

    %div{class: 'py-6'}
      %h1{ class: "text-2xl font-bold text-gray-900 mb-2" } Register Your Runner
      %p{class: 'text-gray-600 mb-6'} Connect a runner to Gitnix and start executing CI/CD pipelines. Complete the setup by following these simple steps.

    %div{class: 'bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6'}
      %h3{class: 'text-lg font-semibold text-gray-900 mb-4'} Step 1: Start the Runner Container
      %p{class: 'text-gray-600 mb-4'}
        Launch a Docker container running GitLab Runner.

      %div{class: 'bg-gray-900 rounded-lg p-4 mb-4'}
        %code{class: 'text-white text-sm font-mono block'}
          $ docker run -d --name gitlab-docker-runner gitlab/gitlab-runner:v18.2.1

    %div{class: 'bg-gray-50 border border-gray-200 rounded-lg p-6 mb-6'}
      %h3{class: 'text-lg font-semibold text-gray-900 mb-4'} Step 2: Register with Gitnix
      %p{class: 'text-gray-600 mb-4'}
        Execute the registration command inside the container to link it to your Gitnix instance.

      %div{class: 'bg-gray-900 rounded-lg p-4 mb-4'}
        %code{class: 'text-white text-sm font-mono block'}
          $ docker exec -it gitlab-docker-runner gitlab-runner register --url #{Gitlab.config.gitlab.url} --token #{@runner.token}

      %div{class: 'bg-yellow-50 border border-yellow-200 rounded-lg p-4'}
        %p{class: 'text-sm text-yellow-800'}
          %strong Important:
          Keep the token
          %code{class: 'bg-yellow-100 px-1 rounded text-xs'} #{@runner.token}
          secure. This token will only be displayed once. Once the runner is registered, it cannot be retrieved again from the UI.

    %div{class: 'flex items-center gap-3'}
      = link_to 'View runners', admin_runners_path, class: 'inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-all duration-200'

