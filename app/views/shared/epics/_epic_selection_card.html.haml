%div{ class: 'bg-white border border-slate-200 rounded-lg p-4', data: { controller: 'epic-select-dropdown', 'epic-select-dropdown-url-value': search_url } }

  = form_with url: update_url, local: false, method: :patch, data: { turbo_frame: "#{resource_type}-parent", 'epic-select-dropdown-target': 'form' }, class: 'hidden' do |f|
    = hidden_field_tag "#{resource_type}[parent_id]", selected_id, data: { 'epic-select-dropdown-target': 'parentIdInput' }

  %form{ action: search_url, method: 'post', data: { turbo_frame: 'epic-dropdown-options', 'epic-select-dropdown-target': 'searchForm' }, class: 'hidden' }
    = hidden_field_tag :authenticity_token, form_authenticity_token
    = hidden_field_tag :_method, 'get'
    = hidden_field_tag :q, '', data: { 'epic-select-dropdown-target': 'queryInput' }
    = hidden_field_tag :selected_id, selected_id

  %div{ class: 'mb-3 flex items-center justify-between' }
    %h3{ class: 'text-sm font-semibold text-slate-900' }= title
    %div{ class: 'relative' }
      %button{ class: 'inline-flex items-center px-2 py-1 text-xs text-blue-600 hover:text-blue-800 hover:bg-blue-50 font-medium rounded transition-colors', data: { action: 'click->epic-select-dropdown#toggleDropdown' } }
        Edit
      = render 'shared/epics/epic_search_droplist'

  = render 'shared/epics/selected_epic_turbo', resource: resource, resource_type: resource_type, parent: parent
