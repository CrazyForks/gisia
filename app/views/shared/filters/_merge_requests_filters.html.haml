%div{ class: 'bg-gray-50 rounded-lg p-4 mb-6' }
  = form_tag url, method: :get, local: true, class: 'flex flex-wrap gap-4 items-end' do
    = hidden_field_tag :status, params[:status] if params[:status].present?
    
    %div{ class: 'flex-1 min-w-64' }
      = text_field_tag :search, params[:search], placeholder: 'Type to search', class: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500', onkeypress: 'if(event.key==="Enter"){this.form.submit();}', autocomplete: 'off'
    
    - if defined?(authors) && authors.present?
      %div{ class: 'min-w-32' }
        = label_tag :author_id, 'Author', class: 'block text-sm font-medium text-gray-700 mb-1'
        = select_tag :author_id, options_from_collection_for_select([['All Authors', '']] + authors, :second, :first, params[:author_id]), class: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500', onchange: 'this.form.submit();'
    
    - if defined?(assignees) && assignees.present?
      %div{ class: 'min-w-32' }
        = label_tag :assignee_id, 'Assignee', class: 'block text-sm font-medium text-gray-700 mb-1'
        = select_tag :assignee_id, options_from_collection_for_select([['All Assignees', '']] + assignees, :second, :first, params[:assignee_id]), class: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500', onchange: 'this.form.submit();'
    
    - if defined?(reviewers) && reviewers.present?
      %div{ class: 'min-w-32' }
        = label_tag :reviewer_id, 'Reviewer', class: 'block text-sm font-medium text-gray-700 mb-1'
        = select_tag :reviewer_id, options_from_collection_for_select([['All Reviewers', '']] + reviewers, :second, :first, params[:reviewer_id]), class: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500', onchange: 'this.form.submit();'